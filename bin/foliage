#!/usr/bin/env ruby
# -*- ruby -*-

require 'foliage'
require 'sexpwrap'
END {
  if $!.nil?
    puts Foliage.report(Foliage::BranchTable.pop)
  end
}
Foliage::BranchTable.push([])
LoadWrap.filter_sexp do |sexp|
  Foliage.instrument(sexp)
end
load ARGV[0]
